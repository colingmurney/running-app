{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\colin\\\\Desktop\\\\GitHub\\\\running-app\\\\client\\\\src\\\\components\\\\stravaExport.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\n\nclass StravaExport extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      client_id: \"47805\",\n      client_secret: \"aeb849953d794088bb82fbce08b6e12588fa7725\",\n      authCode: \"\",\n      refresh_token: \"waiting\"\n    };\n  }\n\n  componentDidMount() {\n    const search = this.props.location.search;\n    const params = new URLSearchParams(search); //this.setState({ authCode: params.get(\"code\") });\n\n    const authCode = params.get(\"code\");\n    console.log(this.state.client_id, this.state.client_secret, authCode);\n    axios({\n      method: \"post\",\n      url: \"https://www.strava.com/oauth/token\",\n      data: {\n        client_id: this.state.client_id,\n        client_secret: this.state.client_secret,\n        code: authCode,\n        grant_type: \"authorization_code\"\n      }\n    }).then(response => {\n      this.setState({\n        refresh_token: response.refresh_token\n      });\n    }).catch(error => console.log(error)); // .post(\"https://www.strava.com/oauth/token\", {\n    //   client_id: this.state.client_id,\n    //   client_secret: this.state.client_secret,\n    //   code: this.state.authCode,\n    //   grant_type: \"authorization_code\",\n    // })\n  }\n\n  render() {\n    // axios({\n    //   method: \"post\",\n    //   url: \"https://www.strava.com/oauth/token\",\n    //   data: {\n    //     client_id: this.state.client_id,\n    //     client_secret: this.state.client_secret,\n    //     code: this.state.authCode,\n    //     grant_type: \"authorization_code\",\n    //   },\n    // })\n    //   .then((response) => {\n    //     this.setState({ refresh_token: response.refresh_token });\n    //   })\n    //   .catch((error) => console.log(error));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, this.state.authCode, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, this.state.refresh_token));\n  }\n\n}\n\nexport default StravaExport;","map":{"version":3,"sources":["C:/Users/colin/Desktop/GitHub/running-app/client/src/components/stravaExport.jsx"],"names":["React","Component","axios","StravaExport","state","client_id","client_secret","authCode","refresh_token","componentDidMount","search","props","location","params","URLSearchParams","get","console","log","method","url","data","code","grant_type","then","response","setState","catch","error","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,YAAN,SAA2BF,SAA3B,CAAqC;AAAA;AAAA;AAAA,SACnCG,KADmC,GAC3B;AACNC,MAAAA,SAAS,EAAE,OADL;AAENC,MAAAA,aAAa,EAAE,0CAFT;AAGNC,MAAAA,QAAQ,EAAE,EAHJ;AAINC,MAAAA,aAAa,EAAE;AAJT,KAD2B;AAAA;;AAQnCC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,MAAM,GAAG,KAAKC,KAAL,CAAWC,QAAX,CAAoBF,MAAnC;AACA,UAAMG,MAAM,GAAG,IAAIC,eAAJ,CAAoBJ,MAApB,CAAf,CAFkB,CAGlB;;AACA,UAAMH,QAAQ,GAAGM,MAAM,CAACE,GAAP,CAAW,MAAX,CAAjB;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWC,SAAvB,EAAkC,KAAKD,KAAL,CAAWE,aAA7C,EAA4DC,QAA5D;AAEAL,IAAAA,KAAK,CAAC;AACJgB,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,oCAFD;AAGJC,MAAAA,IAAI,EAAE;AACJf,QAAAA,SAAS,EAAE,KAAKD,KAAL,CAAWC,SADlB;AAEJC,QAAAA,aAAa,EAAE,KAAKF,KAAL,CAAWE,aAFtB;AAGJe,QAAAA,IAAI,EAAEd,QAHF;AAIJe,QAAAA,UAAU,EAAE;AAJR;AAHF,KAAD,CAAL,CAUGC,IAVH,CAUSC,QAAD,IAAc;AAClB,WAAKC,QAAL,CAAc;AAAEjB,QAAAA,aAAa,EAAEgB,QAAQ,CAAChB;AAA1B,OAAd;AACD,KAZH,EAaGkB,KAbH,CAaUC,KAAD,IAAWX,OAAO,CAACC,GAAR,CAAYU,KAAZ,CAbpB,EARkB,CAuBlB;AACA;AACA;AACA;AACA;AACA;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKxB,KAAL,CAAWG,QADd,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,KAAKH,KAAL,CAAWI,aAAf,CAFF,CADF;AAMD;;AA7DkC;;AAgErC,eAAeL,YAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass StravaExport extends Component {\r\n  state = {\r\n    client_id: \"47805\",\r\n    client_secret: \"aeb849953d794088bb82fbce08b6e12588fa7725\",\r\n    authCode: \"\",\r\n    refresh_token: \"waiting\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    const search = this.props.location.search;\r\n    const params = new URLSearchParams(search);\r\n    //this.setState({ authCode: params.get(\"code\") });\r\n    const authCode = params.get(\"code\");\r\n\r\n    console.log(this.state.client_id, this.state.client_secret, authCode);\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: \"https://www.strava.com/oauth/token\",\r\n      data: {\r\n        client_id: this.state.client_id,\r\n        client_secret: this.state.client_secret,\r\n        code: authCode,\r\n        grant_type: \"authorization_code\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        this.setState({ refresh_token: response.refresh_token });\r\n      })\r\n      .catch((error) => console.log(error));\r\n\r\n    // .post(\"https://www.strava.com/oauth/token\", {\r\n    //   client_id: this.state.client_id,\r\n    //   client_secret: this.state.client_secret,\r\n    //   code: this.state.authCode,\r\n    //   grant_type: \"authorization_code\",\r\n    // })\r\n  }\r\n\r\n  render() {\r\n    // axios({\r\n    //   method: \"post\",\r\n    //   url: \"https://www.strava.com/oauth/token\",\r\n    //   data: {\r\n    //     client_id: this.state.client_id,\r\n    //     client_secret: this.state.client_secret,\r\n    //     code: this.state.authCode,\r\n    //     grant_type: \"authorization_code\",\r\n    //   },\r\n    // })\r\n    //   .then((response) => {\r\n    //     this.setState({ refresh_token: response.refresh_token });\r\n    //   })\r\n    //   .catch((error) => console.log(error));\r\n\r\n    return (\r\n      <div>\r\n        {this.state.authCode}\r\n        <p>{this.state.refresh_token}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StravaExport;\r\n"]},"metadata":{},"sourceType":"module"}